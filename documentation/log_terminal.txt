PS PATH> python3 -m venv .venv
PS PATH> .venv\Scripts\activate
(.venv) PS PATH> pip install -r requirements.txt
Collecting pandas (from -r requirements.txt (line 2))
  Using cached pandas-2.3.3-cp312-cp312-win_amd64.whl.metadata (19 kB)
Collecting numpy (from -r requirements.txt (line 3))
  Downloading numpy-2.3.3-cp312-cp312-win_amd64.whl.metadata (60 kB)
Collecting scikit-learn (from -r requirements.txt (line 4))
  Using cached scikit_learn-1.7.2-cp312-cp312-win_amd64.whl.metadata (11 kB)
Collecting xgboost (from -r requirements.txt (line 5))
  Downloading xgboost-3.0.5-py3-none-win_amd64.whl.metadata (2.1 kB)
Collecting fastapi (from -r requirements.txt (line 15))
  Downloading fastapi-0.118.2-py3-none-any.whl.metadata (28 kB)
Collecting uvicorn[standard] (from -r requirements.txt (line 16))
  Using cached uvicorn-0.37.0-py3-none-any.whl.metadata (6.6 kB)
Collecting python-dateutil>=2.8.2 (from pandas->-r requirements.txt (line 2))
  Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting pytz>=2020.1 (from pandas->-r requirements.txt (line 2))
  Using cached pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
Collecting tzdata>=2022.7 (from pandas->-r requirements.txt (line 2))
  Using cached tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting scipy>=1.8.0 (from scikit-learn->-r requirements.txt (line 4))
  Using cached scipy-1.16.2-cp312-cp312-win_amd64.whl.metadata (60 kB)
Collecting joblib>=1.2.0 (from scikit-learn->-r requirements.txt (line 4))
  Using cached joblib-1.5.2-py3-none-any.whl.metadata (5.6 kB)
Collecting threadpoolctl>=3.1.0 (from scikit-learn->-r requirements.txt (line 4))
  Using cached threadpoolctl-3.6.0-py3-none-any.whl.metadata (13 kB)
Collecting starlette<0.49.0,>=0.40.0 (from fastapi->-r requirements.txt (line 15))
  Using cached starlette-0.48.0-py3-none-any.whl.metadata (6.3 kB)
Collecting pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4 (from fastapi->-r requirements.txt (line 15))
  Using cached pydantic-2.12.0-py3-none-any.whl.metadata (83 kB)
Collecting typing-extensions>=4.8.0 (from fastapi->-r requirements.txt (line 15))
  Using cached typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Collecting click>=7.0 (from uvicorn[standard]->-r requirements.txt (line 16))
  Using cached click-8.3.0-py3-none-any.whl.metadata (2.6 kB)
Collecting h11>=0.8 (from uvicorn[standard]->-r requirements.txt (line 16))
  Using cached h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
Collecting colorama>=0.4 (from uvicorn[standard]->-r requirements.txt (line 16))
  Using cached colorama-0.4.6-py2.py3-none-any.whl.metadata (17 kB)
Collecting httptools>=0.6.3 (from uvicorn[standard]->-r requirements.txt (line 16))
  Downloading httptools-0.6.4-cp312-cp312-win_amd64.whl.metadata (3.7 kB)
Collecting python-dotenv>=0.13 (from uvicorn[standard]->-r requirements.txt (line 16))
  Downloading python_dotenv-1.1.1-py3-none-any.whl.metadata (24 kB)
Collecting pyyaml>=5.1 (from uvicorn[standard]->-r requirements.txt (line 16))
  Downloading pyyaml-6.0.3-cp312-cp312-win_amd64.whl.metadata (2.4 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]->-r requirements.txt (line 16))
  Downloading watchfiles-1.1.0-cp312-cp312-win_amd64.whl.metadata (5.0 kB)
Collecting websockets>=10.4 (from uvicorn[standard]->-r requirements.txt (line 16))
  Downloading websockets-15.0.1-cp312-cp312-win_amd64.whl.metadata (7.0 kB)
Collecting annotated-types>=0.6.0 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi->-r requirements.txt (line 15))
  Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
Collecting pydantic-core==2.41.1 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi->-r requirements.txt (line 15))
  Using cached pydantic_core-2.41.1-cp312-cp312-win_amd64.whl.metadata (7.4 kB)
Collecting typing-inspection>=0.4.2 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi->-r requirements.txt (line 15))
  Using cached typing_inspection-0.4.2-py3-none-any.whl.metadata (2.6 kB)
Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas->-r requirements.txt (line 2))
  Using cached six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting anyio<5,>=3.6.2 (from starlette<0.49.0,>=0.40.0->fastapi->-r requirements.txt (line 15))
  Using cached anyio-4.11.0-py3-none-any.whl.metadata (4.1 kB)
Collecting idna>=2.8 (from anyio<5,>=3.6.2->starlette<0.49.0,>=0.40.0->fastapi->-r requirements.txt (line 15))
  Using cached idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting sniffio>=1.1 (from anyio<5,>=3.6.2->starlette<0.49.0,>=0.40.0->fastapi->-r requirements.txt (line 15))
  Using cached sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
Using cached pandas-2.3.3-cp312-cp312-win_amd64.whl (11.0 MB)
Downloading numpy-2.3.3-cp312-cp312-win_amd64.whl (12.8 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.8/12.8 MB 9.5 MB/s eta 0:00:00
Using cached scikit_learn-1.7.2-cp312-cp312-win_amd64.whl (8.7 MB)
Downloading xgboost-3.0.5-py3-none-win_amd64.whl (56.8 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.8/56.8 MB 13.0 MB/s eta 0:00:00
Downloading fastapi-0.118.2-py3-none-any.whl (97 kB)
Using cached click-8.3.0-py3-none-any.whl (107 kB)
Using cached colorama-0.4.6-py2.py3-none-any.whl (25 kB)
Using cached h11-0.16.0-py3-none-any.whl (37 kB)
Downloading httptools-0.6.4-cp312-cp312-win_amd64.whl (88 kB)
Using cached joblib-1.5.2-py3-none-any.whl (308 kB)
Using cached pydantic-2.12.0-py3-none-any.whl (459 kB)
Using cached pydantic_core-2.41.1-cp312-cp312-win_amd64.whl (2.0 MB)
Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Downloading python_dotenv-1.1.1-py3-none-any.whl (20 kB)
Using cached pytz-2025.2-py2.py3-none-any.whl (509 kB)
Downloading pyyaml-6.0.3-cp312-cp312-win_amd64.whl (154 kB)
Using cached scipy-1.16.2-cp312-cp312-win_amd64.whl (38.6 MB)
Using cached starlette-0.48.0-py3-none-any.whl (73 kB)
Using cached threadpoolctl-3.6.0-py3-none-any.whl (18 kB)
Using cached typing_extensions-4.15.0-py3-none-any.whl (44 kB)
Using cached tzdata-2025.2-py2.py3-none-any.whl (347 kB)
Downloading watchfiles-1.1.0-cp312-cp312-win_amd64.whl (292 kB)
Downloading websockets-15.0.1-cp312-cp312-win_amd64.whl (176 kB)
Using cached uvicorn-0.37.0-py3-none-any.whl (67 kB)
Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
Using cached anyio-4.11.0-py3-none-any.whl (109 kB)
Using cached six-1.17.0-py2.py3-none-any.whl (11 kB)
Using cached typing_inspection-0.4.2-py3-none-any.whl (14 kB)
Using cached idna-3.10-py3-none-any.whl (70 kB)
Using cached sniffio-1.3.1-py3-none-any.whl (10 kB)
Installing collected packages: pytz, websockets, tzdata, typing-extensions, threadpoolctl, sniffio, six, pyyaml, python-dotenv, numpy, joblib, idna, httptools, h11, colorama, annotated-types, typing-inspection, scipy, python-dateutil, pydantic-core, click, anyio, xgboost, watchfiles, uvicorn, starlette, scikit-learn, pydantic, pandas, fastapi
Successfully installed annotated-types-0.7.0 anyio-4.11.0 click-8.3.0 colorama-0.4.6 fastapi-0.118.2 h11-0.16.0 httptools-0.6.4 idna-3.10 joblib-1.5.2 numpy-2.3.3 pandas-2.3.3 pydantic-2.12.0 pydantic-core-2.41.1 python-dateutil-2.9.0.post0 python-dotenv-1.1.1 pytz-2025.2 pyyaml-6.0.3 scikit-learn-1.7.2 scipy-1.16.2 six-1.17.0 sniffio-1.3.1 starlette-0.48.0 threadpoolctl-3.6.0 typing-extensions-4.15.0 typing-inspection-0.4.2 tzdata-2025.2 uvicorn-0.37.0 watchfiles-1.1.0 websockets-15.0.1 xgboost-3.0.5
ytz-2025.2 pyyaml-6.0.3 scikit-learn-1.7.2 scipy-1.16.2 six-1.17.0 sniffio-1.3.1 starlette-0.48.0 threadpoolctl-3.6.0 typing-extensions-4.15.0 typing-inspection-0.4.2 tzdata-2025.2 uvicorn-0.37.0 watchfiles-1.1.0 websockets-15.0.1 xgboost-3.0.5
ions-4.15.0 typing-inspection-0.4.2 tzdata-2025.2 uvicorn-0.37.0 watchfiles-1.1.0 websockets-15.0.1 xgboost-3.0.5

[notice] A new release of pip is available: 25.0.1 -> 25.2
[notice] To update, run: python.exe -m pip install --upgrade pip
(.venv) PS PATH> python.exe -m pip install --upgrade pip
[notice] A new release of pip is available: 25.0.1 -> 25.2
[notice] To update, run: python.exe -m pip install --upgrade pip
(.venv) PS PATH> python.exe -m pip install --upgrade pip
Requirement already satisfied: pip in PATH\.venv\lib\site-packages (25.0.1)
[notice] To update, run: python.exe -m pip install --upgrade pip
(.venv) PS PATH> python.exe -m pip install --upgrade pip
Requirement already satisfied: pip in PATH\.venv\lib\site-packages (25.0.1)
(.venv) PS PATH> python.exe -m pip install --upgrade pip
Requirement already satisfied: pip in PATH\.venv\lib\site-packages (25.0.1)
Requirement already satisfied: pip in PATH\.venv\lib\site-packages (25.0.1)
Collecting pip
  Using cached pip-25.2-py3-none-any.whl.metadata (4.7 kB)
  Using cached pip-25.2-py3-none-any.whl.metadata (4.7 kB)
Using cached pip-25.2-py3-none-any.whl (1.8 MB)
  Using cached pip-25.2-py3-none-any.whl.metadata (4.7 kB)
  Using cached pip-25.2-py3-none-any.whl.metadata (4.7 kB)
Using cached pip-25.2-py3-none-any.whl (1.8 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 25.0.1
    Uninstalling pip-25.0.1:
      Successfully uninstalled pip-25.0.1
Successfully installed pip-25.2
(.venv) PS PATH> python src/data_generator.py
Dataset de 10000 amostras gerado e salvo em 'models/synthetic_nutrition_data.csv'

Distribuição dos Rótulos de Diagnóstico:
diagnosis_label
0    6153
3    2437
1     740
2     670
Name: count, dtype: int64
(.venv) PS PATH> python src/model_trainer.py
Dados de Treino: 8000 amostras
Dados de Teste: 2000 amostras

Iniciando Treinamento do XGBoost...
PATH\ai_service\.venv\Lib\site-packages\xgboost\training.py:183: UserWarning: [21:25:20] WARNING: C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:738:
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
Treinamento concluído.

--- Relatório de Avaliação ---
Acurácia no Conjunto de Teste: 0.9955

Relatório de Classificação (Precision/Recall/F1-Score):
              precision    recall  f1-score   support

      Normal       1.00      1.00      1.00      1231
       Risco       0.98      0.98      0.98       148
    Moderada       0.98      0.98      0.98       134
       Grave       0.99      1.00      1.00       487

    accuracy                           1.00      2000
   macro avg       0.99      0.99      0.99      2000
weighted avg       1.00      1.00      1.00      2000


Modelo XGBoost salvo com sucesso em: models/xgboost_nutrition_model.json
(.venv) PS PATH> uvicorn app.main:app --reload
INFO:     Will watch for changes in these directories: ['J:\\Projetos\\project_Nutri_AI\\ai_service']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [344] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "PATH-----\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "PATH-----\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "PATH\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started    
    target(sockets=sockets)
  File "PATH\.venv\Lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "PATH-----\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "PATH-----\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "PATH-----\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "PATH\.venv\Lib\site-packages\uvicorn\server.py", line 71, in serve
    await self._serve(sockets)
  File "PATH\.venv\Lib\site-packages\uvicorn\server.py", line 78, in _serve
    config.load()
  File "PATH\.venv\Lib\site-packages\uvicorn\config.py", line 438, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "PATH\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string       
    raise exc from None
  File "PATH\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string       
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "PATH-----\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1310, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'app'
INFO:     Stopping reloader process [344]
(.venv) PS PATH> uvicorn src.predict_service:app --reload
INFO:     Will watch for changes in these directories: ['J:\\Projetos\\project_Nutri_AI\\ai_service']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [7884] using WatchFiles
Modelo XGBoost carregado com sucesso de: models/xgboost_nutrition_model.json
INFO:     Started server process [14332]
INFO:     Waiting for application startup.
INFO:     Application startup complete.